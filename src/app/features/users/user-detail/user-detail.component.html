<div class="dashboard-container">
  <app-sidenav></app-sidenav>
  <div class="main-section">
    <header class="dashboard-header">
      <h1>User Details</h1>
    </header>
    <main class="main-content">
      <div class="user-details" *ngIf="user">
        <h2>{{ user.name }}</h2>
        <p><strong>Email:</strong> {{ user.email }}</p>
        <p><strong>Phone:</strong> {{ user.phone }}</p>
        <p><strong>Total Orders:</strong> {{ orders.length }}</p>
        <p>
          <strong>Status:</strong> {{ user.blocked ? "Blocked" : "Active" }}
        </p>
      </div>

      <div class="orders-section">
        <h3>Past Orders</h3>
        <div *ngFor="let order of orders" class="order-card">
          <div class="order-header">
            <h4>Order ID: {{ order.id }}</h4>
            <p><strong>Date:</strong> {{ order.orderDate | date : "short" }}</p>
            <p><strong>Total:</strong> ${{ order.total.toFixed(2) }}</p>
            <p><strong>Status:</strong> {{ order.status }}</p>
          </div>
          <div class="order-items">
            <h5>Items:</h5>
            <ul>
              <li *ngFor="let item of order.items">
                {{ item.name }} - Quantity: {{ item.qty }} - Price: ${{
                  item.price.toFixed(2)
                }}
              </li>
            </ul>
          </div>
        </div>
        <ng-template #noOrders>
          <p>No orders found for this user.</p>
        </ng-template>
      </div>
    </main>
  </div>
</div>
