<app-navbar></app-navbar>

<!-- Search Bar -->
<div class="search-container">
  <input
    type="text"
    placeholder="Search products by name, brand, or category..."
    [(ngModel)]="searchTerm"
    (ngModelChange)="filterProducts()"
    class="search-input"
  />
</div>

<div class="product-container">
  <div
    class="product-card"
    *ngFor="let product of paginatedProducts"
    [routerLink]="['/products/details', product.id]"
  >
    <img
      src="{{ product.thumbnail }}"
      alt="{{ product.name }}"
      class="product-image"
    />
    <div class="product-info">
      <p class="product-category">{{ product.category }}</p>
      <h3>{{ product.name }}</h3>
      <div class="rating">
        <span>‚≠ê {{ product.rating }}</span>
      </div>
      <div class="price-add">
        <p class="price">${{ product.price }}</p>
        <button
          class="add-to-cart"
          (click)="addToCart(product); $event.stopPropagation()"
        >
          üõí Add
        </button>
      </div>
    </div>
  </div>
</div>

<!-- Pagination Controls -->
<div class="pagination" *ngIf="totalPages > 1">
  <button
    class="page-btn"
    (click)="previousPage()"
    [disabled]="currentPage === 1"
  >
    Previous
  </button>

  <span *ngFor="let page of [].constructor(totalPages); let i = index">
    <button
      class="page-btn"
      [class.active]="i + 1 === currentPage"
      (click)="goToPage(i + 1)"
    >
      {{ i + 1 }}
    </button>
  </span>

  <button
    class="page-btn"
    (click)="nextPage()"
    [disabled]="currentPage === totalPages"
  >
    Next
  </button>
</div>

<app-footer></app-footer>
